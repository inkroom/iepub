[package]
name = "iepub"
version = { workspace=true }
edition = "2021"
license = { workspace = true }
description = { workspace = true }
repository = { workspace = true }
readme = { workspace = true }
keywords = { workspace = true }

[dependencies]
zip = "6.0.0"
anyhow = "1.0.100"
quick-xml = { version = "0.38.3" }
ab_glyph = { version = "0.2.32", optional = true }
imageproc = { version = "0.25.0", optional = true}
serde_json = { version = "1.0.145", optional = true }
iepub-derive = { path = "../derive", version = "1.2.0" }
serde = { version = "1.0.228", features = ["derive"], optional = true }
image = { version = "0.25.8", default-features = false, features = ["jpeg"], optional = true }

[dev-dependencies]
minreq = {version="2.13.4", features=["https","proxy"]}

[features]
no_nav=[]
cache=["dep:serde","dep:serde_json"]
cover = ["dep:ab_glyph","dep:image","dep:imageproc"]